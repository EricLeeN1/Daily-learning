!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";function e(e){return function(t,i,n){t=t&&t.toLowerCase(),I.prototype[e].call(this,t,i,n)}}function t(){I.call(this)}function i(e,i,n){function o(e,t){return e.prio-t.prio}n=n||{},"string"==typeof i&&(i=re[i]),this.id,this.group,this._dom=e;var r=this._zr=x.init(e,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=k(w.bind(r.flush,r),17);(i=w.clone(i))&&M(i,!0),this._theme=i,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new A,this._api=function(e){var t=e._coordSysMgr;return w.extend(new z(e),{getCoordinateSystems:w.bind(t.getCoordinateSystems,t),getComponentByElement:function(t){for(;t;){var i=t.__ecComponentInfo;if(null!=i)return e._model.getComponent(i.mainType,i.index);t=t.parent}}})}(this),I.call(this),this._messageCenter=new t,this._initEvents(),this.resize=w.bind(this.resize,this),this._pendingActions=[],S(oe,o),S(te,o),r.animation.on("frame",this._onframe,this),w.setAsPrimitive(this)}function n(e,t,i){var n,o=this._model,r=this._coordSysMgr.getCoordinateSystems();t=D.parseFinder(o,t);for(var s=0;s<r.length;s++){var a=r[s];if(a[e]&&null!=(n=a[e](o,t,i)))return n}}function o(e,t,i,n,o){function r(n){n&&n.__alive&&n[t]&&n[t](n.__model,s,e._api,i)}var s=e._model;if(n){var a={};a[n+"Id"]=i[n+"Id"],a[n+"Index"]=i[n+"Index"],a[n+"Name"]=i[n+"Name"];var l={mainType:n,query:a};o&&(l.subType=o),s&&s.eachComponent(l,function(t,i){r(e["series"===n?"_chartsMap":"_componentsMap"][t.__viewId])},e)}else E(e._componentsViews.concat(e._chartsViews),r)}function r(e,t){var i=e.type,n=e.escapeConnect,r=Q[i],s=r.actionInfo,a=(s.update||"update").split(":"),l=a.pop();a=null!=a[0]&&B(a[0]),this[X]=!0;var u=[e],c=!1;e.batch&&(c=!0,u=w.map(e.batch,function(t){return t=w.defaults(w.extend({},t),e),t.batch=null,t}));var p,h=[],d="highlight"===i||"downplay"===i;E(u,function(e){(p=(p=r.action(e,this._model,this._api))||w.extend({},e)).type=s.event||p.type,h.push(p),d?o(this,l,e,"series"):a&&o(this,l,e,a.main,a.sub)},this),"none"===l||d||a||(this[W]?($.prepareAndUpdate.call(this,e),this[W]=!1):$[l].call(this,e)),p=c?{type:s.event||i,escapeConnect:n,batch:h}:h[0],this[X]=!1,!t&&this._messageCenter.trigger(p.type,p)}function s(e){for(var t=this._pendingActions;t.length;){var i=t.shift();r.call(this,i,e)}}function a(e){!e&&this.trigger("updated")}function l(e,t,i){var n=this._api;E(this._componentsViews,function(o){var r=o.__model;o[e](r,t,n,i),d(r,o)},this),t.eachSeries(function(o,r){var s=this._chartsMap[o.__viewId];s[e](o,t,n,i),d(o,s),h(o,s)},this),p(this._zr,t),E(ne,function(e){e(t,n)})}function u(e,t){for(var i="component"===e,n=i?this._componentsViews:this._chartsViews,o=i?this._componentsMap:this._chartsMap,r=this._zr,s=0;s<n.length;s++)n[s].__alive=!1;t[i?"eachComponent":"eachSeries"](function(e,s){if(i){if("series"===e)return}else s=e;var a="_ec_"+s.id+"_"+s.type,l=o[a];if(!l){var u=B(s.type),c=i?P.getClass(u.main,u.sub):V.getClass(u.sub);if(!c)return;(l=new c).init(t,this._api),o[a]=l,n.push(l),r.add(l.group)}s.__viewId=l.__id=a,l.__alive=!0,l.__model=s,l.group.__ecComponentInfo={mainType:s.mainType,index:s.componentIndex}},this);for(s=0;s<n.length;){var a=n[s];a.__alive?s++:(r.remove(a.group),a.dispose(t,this._api),n.splice(s,1),delete o[a.__id],a.__id=a.group.__ecComponentInfo=null)}}function c(e,t,i){var n=this._api;e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()}),E(oe,function(o){(!i||!o.isLayout)&&o.func(e,n,t)})}function p(e,t){var i=e.storage,n=0;i.traverse(function(e){e.isGroup||n++}),n>t.get("hoverLayerThreshold")&&!C.node&&i.traverse(function(e){e.isGroup||(e.useHoverLayer=!0)})}function h(e,t){var i=0;t.group.traverse(function(e){"group"===e.type||e.ignore||i++});var n=+e.get("progressive"),o=i>e.get("progressiveThreshold")&&n&&!C.node;o&&t.group.traverse(function(e){e.isGroup||(e.progressive=o?Math.floor(i++/n):-1,o&&e.stopAnimation(!0))});var r=e.get("blendMode")||null;t.group.traverse(function(e){e.isGroup||e.setStyle("blend",r)})}function d(e,t){var i=e.get("z"),n=e.get("zlevel");t.group.traverse(function(e){"group"!==e.type&&(null!=i&&(e.z=i),null!=n&&(e.zlevel=n))})}function g(e){le[e]=!1}function f(e){var t;return t=e.getAttribute?e.getAttribute(pe):e[pe],ae[t]}function _(e){ie.push(e)}function v(e,t,i){"function"==typeof t&&(i=t,t="");var n=w.isObject(e)?e.type:[e,e={event:t}][0];e.event=(e.event||n).toLowerCase(),t=e.event,w.assert(Z.test(n)&&Z.test(t)),Q[n]||(Q[n]={action:i,actionInfo:e}),ee[t]=n}function m(e,t){"function"==typeof e&&(t=e,e=N),oe.push({prio:e,func:t})}function y(e,t){se[e]=t}require("./config").__DEV__;var x=require("zrender/lib/zrender"),w=require("zrender/lib/core/util"),b=require("zrender/lib/tool/color"),C=require("zrender/lib/core/env"),S=require("zrender/lib/core/timsort"),I=require("zrender/lib/mixin/Eventful"),T=require("./model/Global"),z=require("./ExtensionAPI"),A=require("./CoordinateSystem"),q=require("./model/OptionManager"),M=require("./preprocessor/backwardCompat"),R=require("./model/Component"),O=require("./model/Series"),P=require("./view/Component"),V=require("./view/Chart"),L=require("./util/graphic"),D=require("./util/model"),k=require("./util/throttle").throttle,F=require("./visual/seriesColor"),U=require("./loading/default"),E=w.each,B=R.parseClassType,G=1e3,H=1e3,N=3e3,J={PROCESSOR:{FILTER:G,STATISTIC:5e3},VISUAL:{LAYOUT:H,GLOBAL:2e3,CHART:N,COMPONENT:4e3,BRUSH:5e3}},X="__flagInMainProcess",j="__hasGradientOrPatternBg",W="__optionUpdated",Z=/^[a-zA-Z0-9_]+$/;t.prototype.on=e("on"),t.prototype.off=e("off"),t.prototype.one=e("one"),w.mixin(t,I);var Y=i.prototype;Y._onframe=function(){if(this[W]){var e=this[W].silent;this[X]=!0,$.prepareAndUpdate.call(this),this[X]=!1,this[W]=!1,s.call(this,e),a.call(this,e)}},Y.getDom=function(){return this._dom},Y.getZr=function(){return this._zr},Y.setOption=function(e,t,i){var n;if(w.isObject(t)&&(i=t.lazyUpdate,n=t.silent,t=t.notMerge),this[X]=!0,!this._model||t){var o=new q(this._api),r=this._theme;(this._model=new T(null,null,r,o)).init(null,null,r,o)}this._model.setOption(e,ie),i?(this[W]={silent:n},this[X]=!1):($.prepareAndUpdate.call(this),this._zr.flush(),this[W]=!1,this[X]=!1,s.call(this,n),a.call(this,n))},Y.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},Y.getModel=function(){return this._model},Y.getOption=function(){return this._model&&this._model.getOption()},Y.getWidth=function(){return this._zr.getWidth()},Y.getHeight=function(){return this._zr.getHeight()},Y.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},Y.getRenderedCanvas=function(e){if(C.canvasSupported){(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr,i=t.storage.getDisplayList();return w.each(i,function(e){e.stopAnimation(!0)}),t.painter.getRenderedCanvas(e)}},Y.getSvgDataUrl=function(){if(C.svgSupported){var e=this._zr,t=e.storage.getDisplayList();return w.each(t,function(e){e.stopAnimation(!0)}),e.painter.pathToSvg()}},Y.getDataURL=function(e){var t=(e=e||{}).excludeComponents,i=this._model,n=[],o=this;E(t,function(e){i.eachComponent({mainType:e},function(e){var t=o._componentsMap[e.__viewId];t.group.ignore||(n.push(t),t.group.ignore=!0)})});var r="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return E(n,function(e){e.group.ignore=!1}),r},Y.getConnectedDataURL=function(e){if(C.canvasSupported){var t=this.group,i=Math.min,n=Math.max;if(le[t]){var o=1/0,r=1/0,s=-1/0,a=-1/0,l=[],u=e&&e.pixelRatio||1;w.each(ae,function(u,c){if(u.group===t){var p=u.getRenderedCanvas(w.clone(e)),h=u.getDom().getBoundingClientRect();o=i(h.left,o),r=i(h.top,r),s=n(h.right,s),a=n(h.bottom,a),l.push({dom:p,left:h.left,top:h.top})}});var c=(s*=u)-(o*=u),p=(a*=u)-(r*=u),h=w.createCanvas();h.width=c,h.height=p;var d=x.init(h);return E(l,function(e){var t=new L.Image({style:{x:e.left*u-o,y:e.top*u-r,image:e.dom}});d.add(t)}),d.refreshImmediately(),h.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},Y.convertToPixel=w.curry(n,"convertToPixel"),Y.convertFromPixel=w.curry(n,"convertFromPixel"),Y.containPixel=function(e,t){var i,n=this._model;return e=D.parseFinder(n,e),w.each(e,function(e,n){n.indexOf("Models")>=0&&w.each(e,function(e){var o=e.coordinateSystem;if(o&&o.containPoint)i|=!!o.containPoint(t);else if("seriesModels"===n){var r=this._chartsMap[e.__viewId];r&&r.containPoint&&(i|=r.containPoint(t,e))}},this)},this),!!i},Y.getVisual=function(e,t){var i=this._model,n=(e=D.parseFinder(i,e,{defaultMainType:"series"})).seriesModel.getData(),o=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?n.indexOfRawIndex(e.dataIndex):null;return null!=o?n.getItemVisual(o,t):n.getVisual(t)},Y.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},Y.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var $={update:function(e){var t=this._model,i=this._api,n=this._coordSysMgr,o=this._zr;if(t){t.restoreData(),n.create(this._model,this._api),function(e,t){E(te,function(i){i.func(e,t)})}.call(this,t,i),function(e){var t={};e.eachSeries(function(e){var i=e.get("stack"),n=e.getData();if(i&&"list"===n.type){var o=t[i];t.hasOwnProperty(i)&&o&&(n.stackedOn=o),t[i]=n}})}.call(this,t),n.update(t,i),c.call(this,t,e),function(e,t){var i=this._api;E(this._componentsViews,function(n){var o=n.__model;n.render(o,e,i,t),d(o,n)},this),E(this._chartsViews,function(e){e.__alive=!1},this),e.eachSeries(function(n,o){var r=this._chartsMap[n.__viewId];r.__alive=!0,r.render(n,e,i,t),r.group.silent=!!n.get("silent"),d(n,r),h(n,r)},this),p(this._zr,e),E(this._chartsViews,function(t){t.__alive||t.remove(e,i)},this)}.call(this,t,e);var r=t.get("backgroundColor")||"transparent",s=o.painter;if(s.isSingleCanvas&&s.isSingleCanvas())o.configLayer(0,{clearColor:r});else{if(!C.canvasSupported){var a=b.parse(r);r=b.stringify(a,"rgb"),0===a[3]&&(r="transparent")}r.colorStops||r.image?(o.configLayer(0,{clearColor:r}),this[j]=!0,this._dom.style.background="transparent"):(this[j]&&o.configLayer(0,{clearColor:null}),this[j]=!1,this._dom.style.background=r)}E(ne,function(e){e(t,i)})}},updateView:function(e){var t=this._model;t&&(t.eachSeries(function(e){e.getData().clearAllVisual()}),c.call(this,t,e),l.call(this,"updateView",t,e))},updateVisual:function(e){var t=this._model;t&&(t.eachSeries(function(e){e.getData().clearAllVisual()}),c.call(this,t,e,!0),l.call(this,"updateVisual",t,e))},updateLayout:function(e){var t=this._model;t&&(function(e,t){var i=this._api;E(oe,function(n){n.isLayout&&n.func(e,i,t)})}.call(this,t,e),l.call(this,"updateLayout",t,e))},prepareAndUpdate:function(e){var t=this._model;u.call(this,"component",t),u.call(this,"chart",t),$.update.call(this,e)}};Y.resize=function(e){this[X]=!0,this._zr.resize(e);var t=this._model&&this._model.resetOption("media");$[t?"prepareAndUpdate":"update"].call(this),this._loadingFX&&this._loadingFX.resize(),this[X]=!1;var i=e&&e.silent;s.call(this,i),a.call(this,i)},Y.showLoading=function(e,t){if(w.isObject(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),se[e]){var i=se[e](this._api,t),n=this._zr;this._loadingFX=i,n.add(i)}},Y.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},Y.makeActionFromEvent=function(e){var t=w.extend({},e);return t.type=ee[e.type],t},Y.dispatchAction=function(e,t){w.isObject(t)||(t={silent:!!t}),Q[e.type]&&this._model&&(this[X]?this._pendingActions.push(e):(r.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&C.browser.weChat&&this._throttledZrFlush(),s.call(this,t.silent),a.call(this,t.silent)))},Y.on=e("on"),Y.off=e("off"),Y.one=e("one");var K=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];Y._initEvents=function(){E(K,function(e){this._zr.on(e,function(t){var i,n=this.getModel(),o=t.target;if("globalout"===e)i={};else if(o&&null!=o.dataIndex){var r=o.dataModel||n.getSeriesByIndex(o.seriesIndex);i=r&&r.getDataParams(o.dataIndex,o.dataType)||{}}else o&&o.eventData&&(i=w.extend({},o.eventData));i&&(i.event=t,i.type=e,this.trigger(e,i))},this)},this),E(ee,function(e,t){this._messageCenter.on(t,function(e){this.trigger(t,e)},this)},this)},Y.isDisposed=function(){return this._disposed},Y.clear=function(){this.setOption({series:[]},!0)},Y.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this._api,t=this._model;E(this._componentsViews,function(i){i.dispose(t,e)}),E(this._chartsViews,function(i){i.dispose(t,e)}),this._zr.dispose(),delete ae[this.id]}},w.mixin(i,I);var Q={},ee={},te=[],ie=[],ne=[],oe=[],re={},se={},ae={},le={},ue=new Date-0,ce=new Date-0,pe="_echarts_instance_",he={},de=g;m(2e3,F),_(M),y("default",U),v({type:"highlight",event:"highlight",update:"highlight"},w.noop),v({type:"downplay",event:"downplay",update:"downplay"},w.noop);exports.version="3.8.5",exports.dependencies={zrender:"3.7.4"},exports.PRIORITY=J,exports.init=function(e,t,n){var o=f(e);if(o)return o;var r=new i(e,t,n);return r.id="ec_"+ue++,ae[r.id]=r,e.setAttribute?e.setAttribute(pe,r.id):e[pe]=r.id,function(e){function t(e,t){for(var n=0;n<e.length;n++)e[n][i]=t}var i="__connectUpdateStatus";w.each(ee,function(n,o){e._messageCenter.on(o,function(n){if(le[e.group]&&0!==e[i]){if(n&&n.escapeConnect)return;var o=e.makeActionFromEvent(n),r=[];w.each(ae,function(t){t!==e&&t.group===e.group&&r.push(t)}),t(r,0),E(r,function(e){1!==e[i]&&e.dispatchAction(o)}),t(r,2)}})})}(r),r},exports.connect=function(e){if(w.isArray(e)){var t=e;e=null,w.each(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+ce++,w.each(t,function(t){t.group=e})}return le[e]=!0,e},exports.disConnect=g,exports.disconnect=de,exports.dispose=function(e){"string"==typeof e?e=ae[e]:e instanceof i||(e=f(e)),e instanceof i&&!e.isDisposed()&&e.dispose()},exports.getInstanceByDom=f,exports.getInstanceById=function(e){return ae[e]},exports.registerTheme=function(e,t){re[e]=t},exports.registerPreprocessor=_,exports.registerProcessor=function(e,t){"function"==typeof e&&(t=e,e=G),te.push({prio:e,func:t})},exports.registerPostUpdate=function(e){ne.push(e)},exports.registerAction=v,exports.registerCoordinateSystem=function(e,t){A.register(e,t)},exports.getCoordinateSystemDimensions=function(e){var t=A.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},exports.registerLayout=function(e,t){"function"==typeof e&&(t=e,e=H),oe.push({prio:e,func:t,isLayout:!0})},exports.registerVisual=m,exports.registerLoading=y,exports.extendComponentModel=function(e){return R.extend(e)},exports.extendComponentView=function(e){return P.extend(e)},exports.extendSeriesModel=function(e){return O.extend(e)},exports.extendChartView=function(e){return V.extend(e)},exports.setCanvasCreator=function(e){w.$override("createCanvas",e)},exports.registerMap=function(e,t,i){t.geoJson&&!t.features&&(i=t.specialAreas,t=t.geoJson),"string"==typeof t&&(t="undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")()),he[e]={geoJson:t,specialAreas:i}},exports.getMap=function(e){return he[e]},exports.dataTool={};var ge=require("./export");!function(){for(var e in ge)ge.hasOwnProperty(e)&&(exports[e]=ge[e])}();var fe=require("../echarts"),_e=require("zrender/lib/core/util");require("./line/LineSeries"),require("./line/LineView");var ve=require("../visual/symbol"),me=require("../layout/points"),ye=require("../processor/dataSample");require("../component/gridSimple"),fe.registerVisual(_e.curry(ve,"line","circle","line")),fe.registerLayout(_e.curry(me,"line")),fe.registerProcessor(fe.PRIORITY.PROCESSOR.STATISTIC,_e.curry(ye,"line"));var xe=require("../echarts");require("./axisPointer"),require("./tooltip/TooltipModel"),require("./tooltip/TooltipView"),xe.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),xe.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var we=require("../echarts"),be=require("../util/graphic"),Ce=require("../util/layout").getLayoutRect;we.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),we.extendComponentView({type:"title",render:function(e,t,i){if(this.group.removeAll(),e.get("show")){var n=this.group,o=e.getModel("textStyle"),r=e.getModel("subtextStyle"),s=e.get("textAlign"),a=e.get("textBaseline"),l=new be.Text({style:be.setTextStyle({},o,{text:e.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),c=e.get("subtext"),p=new be.Text({style:be.setTextStyle({},r,{text:c,textFill:r.getTextColor(),y:u.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),h=e.get("link"),d=e.get("sublink");l.silent=!h,p.silent=!d,h&&l.on("click",function(){window.open(h,"_"+e.get("target"))}),d&&p.on("click",function(){window.open(d,"_"+e.get("subtarget"))}),n.add(l),c&&n.add(p);var g=n.getBoundingRect(),f=e.getBoxLayoutParams();f.width=g.width,f.height=g.height;var _=Ce(f,{width:i.getWidth(),height:i.getHeight()},e.get("padding"));s||("middle"===(s=e.get("left")||e.get("right"))&&(s="center"),"right"===s?_.x+=_.width:"center"===s&&(_.x+=_.width/2)),a||("center"===(a=e.get("top")||e.get("bottom"))&&(a="middle"),"bottom"===a?_.y+=_.height:"middle"===a&&(_.y+=_.height/2),a=a||"top"),n.attr("position",[_.x,_.y]);var v={textAlign:s,textVerticalAlign:a};l.setStyle(v),p.setStyle(v),g=n.getBoundingRect();var m=_.margin,y=e.getItemStyle(["color","opacity"]);y.fill=e.get("backgroundColor");var x=new be.Rect({shape:{x:g.x-m[3],y:g.y-m[0],width:g.width+m[1]+m[3],height:g.height+m[0]+m[2],r:e.get("borderRadius")},style:y,silent:!0});be.subPixelOptimizeRect(x),n.add(x)}}}),require("./toolbox/ToolboxModel"),require("./toolbox/ToolboxView"),require("./toolbox/feature/SaveAsImage"),require("./toolbox/feature/MagicType"),require("./toolbox/feature/DataView"),require("./toolbox/feature/DataZoom"),require("./toolbox/feature/Restore"),(void 0)(document.getElementById("main")).setOption({title:{text:"Line Chart"},tooltip:{},toolbox:{feature:{dataView:{},saveAsImage:{pixelRatio:2},restore:{}}},xAxis:{},yAxis:{},series:[{type:"line",smooth:!0,data:[[12,5],[24,20],[36,36],[48,10],[60,10],[72,20]]}]})});
//# sourceMappingURL=line.min.js.map
